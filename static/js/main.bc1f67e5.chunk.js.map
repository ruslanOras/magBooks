{"version":3,"sources":["actions/books.js","actions/cart.js","components/BookCard.jsx","containers/BookCard.js","actions/filter.js","components/Filter.jsx","containers/Filter.js","components/Menu.jsx","containers/Menu.js","components/App.jsx","containers/App.js","reducers/books.js","reducers/cart.js","reducers/filter.js","reducers/index.js","index.js","store.js"],"names":["setBooks","books","type","payload","addToCart","obj","setSearchQuery","id","BookCard","book","title","author","price","image","addedCount","Card","Image","src","Content","Header","Meta","className","extra","Icon","name","Button","onClick","bind","connect","cart","items","reduce","count","dispatch","bindActionCreators","cartActions","setFilter","filter","value","Filter","filterBy","searchQuery","Menu","secondary","Item","active","Input","icon","onChange","e","target","placeholder","filterActions","CartComponent","removeFromCart","List","selection","divided","verticalAlign","floated","color","avatar","MenuComponent","totalPrice","position","Popup","trigger","content","map","on","hideOnScroll","totalPrise","total","length","uniqBy","o","App","this","props","axios","get","then","data","isReady","Container","Group","itemsPerRow","i","Component","searchBooks","orderBy","sortBy","toLowerCase","indexOf","filterBooks","booksActions","initialState","combineReducers","state","action","store","createStore","rootReducer","applyMiddleware","logger","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc1f67e5.chunk.js","sourcesContent":["export const setBooks = books => ({\r\n    type: 'SET_BOOKS',\r\n    payload: books\r\n});","\r\nexport const addToCart = obj => ({\r\n    type: 'ADD_TO_CART',\r\n    payload: obj,\r\n});\r\n\r\nexport const setSearchQuery = id => ({\r\n    type: 'REMOVE_FROM_CART',\r\n    payload: id,\r\n});","import React from 'react';\r\nimport { Card, Image, Icon, Button } from 'semantic-ui-react'\r\n\r\nconst BookCard = book => {\r\n  const { title, author, price, image, addToCart, addedCount } = book;\r\n   return (\r\n  <Card>\r\n    <Image src= {image} />\r\n    <Card.Content>\r\n<Card.Header>{title}</Card.Header>\r\n      <Card.Meta>\r\n        <span className='date'>{author}</span>\r\n      </Card.Meta>\r\n      \r\n    </Card.Content>\r\n    <Card.Content extra>\r\n      <a>\r\n        <Icon name='rub' />\r\n        {price}\r\n      </a>\r\n    </Card.Content>\r\n    <Button onClick={addToCart.bind(this, book)}>Добавить в корзину\r\n    {addedCount > 0 && `(${addedCount})`}</Button>\r\n  </Card>\r\n);\r\n   };\r\nexport default BookCard;","import { connect } from 'react-redux';\r\nimport { bindActionCreators} from 'redux';\r\nimport * as cartActions from '../actions/cart';\r\nimport BookCard from '../components/BookCard';\r\n\r\nconst mapStateToProps = ({ cart }, { id }) => ({\r\n  addedCount: cart.items.reduce((count, book) => count + (book.id === id ? 1 : 0), 0),\r\n});\r\n\r\n  const mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartActions,dispatch)\r\n  });\r\n\r\n  export default connect(mapStateToProps, mapDispatchToProps)(BookCard);\r\n\r\n","\r\nexport const setFilter = filter => ({\r\n    type: 'SET_FILTER',\r\n    payload: filter,\r\n});\r\n\r\nexport const setSearchQuery = value => ({\r\n    type: 'SET_QUERY',\r\n    payload: value,\r\n});","import React from 'react';\r\nimport { Input, Menu } from 'semantic-ui-react';\r\nimport { setSearchQuery } from '../actions/filter';\r\n\r\n\r\n\r\n const Filter = ({ setFilter,filterBy,searchQuery,setSearchQuery }) => {\r\n    \r\n    return (\r\n      <Menu secondary>\r\n        <Menu.Item\r\n  \r\n          active={filterBy === 'all'}\r\n          onClick={setFilter.bind(this,'all')}>\r\n            Все\r\n          </Menu.Item>\r\n        \r\n        <Menu.Item\r\n          \r\n          active={filterBy === 'prise_high'}\r\n          onClick={ setFilter.bind(this,'prise_high')}>\r\n            Цена (дорогие)\r\n          </Menu.Item>\r\n        \r\n        <Menu.Item\r\n        \r\n          active={filterBy === 'prise_low'}\r\n          onClick={ setFilter.bind(this,'prise_low')}>\r\n            Цена (дешевые)\r\n          </Menu.Item>\r\n        \r\n        <Menu.Item\r\n        \r\n          active={filterBy === 'author'}\r\n          onClick={ setFilter.bind(this,'author')}>\r\n            Автор\r\n          </Menu.Item>\r\n          <Menu.Item>\r\n            <Input icon='search' onChange={e => setSearchQuery(e.target.value)} value={searchQuery} placeholder ='Поиск по книгам...' />\r\n          </Menu.Item>\r\n        \r\n      </Menu>\r\n    )\r\n};\r\n\r\n\r\n\r\n\r\n export default Filter;","import { connect } from 'react-redux';\r\nimport { bindActionCreators} from 'redux';\r\nimport * as filterActions from '../actions/filter';\r\nimport Filter from '../components/Filter';\r\n\r\nconst mapStateToProps = ({filter}) => ({\r\n    filterBy: filter.filterBy,\r\n  });\r\n  const mapDispatchToProps = dispatch => ({\r\n\r\n    ...bindActionCreators(filterActions,dispatch)\r\n  });\r\n  export default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n\r\n","import React from \"react\";\r\nimport { Menu, Popup, List, Button, Image } from \"semantic-ui-react\";\r\n\r\nconst CartComponent = ({ title, id, image, removeFromCart }) => (\r\n  <List selection divided verticalAlign=\"middle\">\r\n    <List.Item>\r\n      <List.Content floated=\"right\">\r\n        <Button onClick={removeFromCart.bind(this, id)} color=\"red\">\r\n          Удалить\r\n        </Button>\r\n      </List.Content>\r\n      <Image\r\n        avatar\r\n        src= {image} />\r\n      <List.Content>{title}</List.Content>\r\n    </List.Item>\r\n  </List>\r\n);\r\n\r\nconst MenuComponent = ({ totalPrice, count, items }) => (\r\n  <Menu>\r\n    <Menu.Item name=\"browse\">\r\n      Магазин книг\r\n    </Menu.Item>\r\n\r\n    <Menu.Menu position=\"right\">\r\n      <Menu.Item name=\"signup\">\r\n        Итого: &nbsp; <b>{totalPrice}</b>&nbsp;грн.\r\n      </Menu.Item>\r\n\r\n      <Menu.Item name=\"help\"></Menu.Item>\r\n      <Popup\r\n        trigger={\r\n          <Menu.Item name=\"help\">\r\n            Корзина (<b>{count}</b>)\r\n          </Menu.Item>\r\n        }\r\n         content={items.map(book => <CartComponent {...book} />)}\r\n        on=\"click\"\r\n        hideOnScroll\r\n      />\r\n    </Menu.Menu>\r\n  </Menu>\r\n);\r\nexport default MenuComponent;\r\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators} from 'redux';\r\nimport * as cartActions from '../actions/cart';\r\nimport Menu from '../components/Menu';\r\nimport uniqBy from 'lodash/uniqBy';\r\n\r\nconst mapStateToProps = ({cart}) => ({\r\n    totalPrise: cart.items.reduce((total, book) => total + book.price, 0),\r\n    count: cart.items.length,\r\n    items: uniqBy(cart.items, o => o.id),\r\n});\r\n\r\n  const mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartActions,dispatch)\r\n  });\r\n\r\n  export default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n\r\n","import React, { Component } from 'react';\n\nimport { Container } from 'semantic-ui-react';\n\nimport axios from 'axios';\n\nimport BookCard from '../containers/BookCard';\nimport Filter from '../containers/Filter';\nimport Menu from '../containers/Menu';\nimport { Card } from 'semantic-ui-react';\n\nclass App extends Component {\n  componentWillMount() {\n    const { setBooks } = this.props;\n    axios.get('/books.json').then(({data}) => {\n        setBooks(data);\n    });\n  }\n  render() {\n   const { books, isReady } = this.props;\n      return (\n        <Container>\n         <Menu />\n         <Filter />\n         <Card.Group itemsPerRow={4}>\n        \n          {!isReady\n           ? 'загрузка...' \n           : books.map((book, i) => <BookCard key={i} {...book} />)}          \n        </Card.Group>\n        </Container>\n        \n      );\n      }\n}\n\nexport default App\n","import { connect } from 'react-redux';\r\nimport { bindActionCreators} from 'redux'\r\nimport * as booksActions from '../actions/books';\r\nimport App from '../components/App';\r\nimport orderBy from 'lodash/orderBy';\r\n\r\nconst sortBy = (books,filterBy) =>{\r\n  \r\n  switch (filterBy) {\r\n    \r\n    case 'prise_high':\r\n      return orderBy(books, 'prise','desc');\r\n      case 'prise_low':\r\n        return orderBy(books,'price','asc');\r\n      case 'author':\r\n        return orderBy(books, 'author','asc');\r\n        \r\n      default:\r\n       return books;\r\n  }\r\n\r\n};\r\nconst filterBooks = (books, searchQuery) =>\r\n   books.filter(\r\n  o =>\r\n  o.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 ||\r\n  o.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0,\r\n);\r\nconst searchBooks =(books,filterBy, searchQuery) => {\r\n  return sortBy(filterBooks(books, searchQuery),filterBy);\r\n}\r\n\r\nconst mapStateToProps = ({books,filter}) => ({\r\n    books: books.items && searchBooks(books.items, filter.filterBy, filter.searchQuery),\r\n    isReady:books.isReady,\r\n  });\r\n  const mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(booksActions,dispatch),\r\n\r\n  });\r\n  export default connect(mapStateToProps, mapDispatchToProps)(App);","const initialState = {\r\n    isReady: false,\r\n    items: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_BOOKS':\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n                isReady: true,\r\n            };\r\n            \r\n             case 'SET_IS_READY':\r\n              return {\r\n                  ...state,\r\n                  isReady: action.payload,\r\n              };\r\n             break;\r\n            default:\r\n                return state;\r\n    }\r\n};\r\n","const initialState = {\r\n  items: [],\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      return {\r\n        ...state,\r\n        items: [...state.items, action.payload],\r\n      };\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...state,\r\n        items: state.items.filter((o) => o.id != action.payload),\r\n      };\r\n      break;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {\r\n    searchQuery:'',\r\n    filterBy: 'all',\r\n  };\r\n  \r\n  export default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_QUERY':\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload,\r\n            };\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: action.payload,\r\n            };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  ","import { combineReducers } from 'redux';\r\nimport books from './books';\r\nimport cart from './cart';\r\nimport filter from './filter';\r\n\r\nexport default combineReducers({\r\n        books,\r\n        cart,\r\n        filter\r\n    });","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport 'semantic-ui-css/semantic.min.css';\nimport './app.css';\nimport App from \"./containers/App\";\n\nimport createStore from \"./store\";\nconst store = createStore();\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport rootReducer from './reducers';\r\n\r\n// function reduser(state = [], action){\r\n//     return state;\r\n// }\r\n\r\n\r\nexport default () => {\r\n    const store = createStore (rootReducer, applyMiddleware(logger))\r\n    return store;\r\n}\r\n// const store = create();\r\n// function todos(state = [], action) {\r\n//   switch (action.type) {\r\n//     case 'ADD_TODO':\r\n//       return state.concat([action.text])\r\n//     default:\r\n//       return state\r\n//   }\r\n// }\r\n\r\n// const store = createStore(todos, ['Use Redux'])\r\n\r\n// store.dispatch({\r\n//   type: 'ADD_TODO',\r\n// //   text: 'Read the docs'\r\n// })\r\n\r\n// console.log(store.getState())\r\n// [ 'Use Redux', 'Read the docs' ]"],"sourceRoot":""}